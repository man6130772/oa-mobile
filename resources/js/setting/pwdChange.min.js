define(["css!commoncss","css!pwdChangeCSS","common"],function(){function n(){var n=this;this.init=function(){n.handleBackClick(),this.pwdChangeClick()},this.pwdChangeClick=function(){$("#pwdBtn").on("click",function(){n.sendPwdChange()})},this.sendPwdChange=function(){var n=$("#oldPwd").val(),i=$("#newPwd").val(),e=$("#surePwd").val();if(n&&i&&e){if(i.length>16)return void $("#errTip").html("密码长度不能大于16位！");if(i===n)return void $("#errTip").html("旧密码不能与新密码相同");if(i!==e)return void $("#errTip").html("两次输入密码不一致！");ajaxData("POST",ajaxUrl.pwdChange,function(n){console.log(n),0==+n.resCode?($.toast("密码修改成功"),$("#errTip").html("密码修改成功！"),$("#oldPwd").val(""),$("#newPwd").val(""),$("#surePwd").val("")):$("#errTip").html(n.msg)},{password:n,newPwd:i})}else $("#errTip").html("密码不能留空！")},this.handleBackClick=function(){$(".app-btn-back").off("click").on("click",function(){history.back()})}}return new n});
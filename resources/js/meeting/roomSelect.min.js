define(["css!iconfont","css!commoncss","css!roomSelectCSS","common","swiper"],function(){function t(){var t,n,e=this;this.handleBackClick=function(){$(".app-btn-back").off("click").on("click",function(){history.back()})},this.init=function(){t=getQueryString("id"),n=getQueryString("date"),e.handleBackClick(),e.initDateArr(),e.phoneClick()},this.ajaxData=function(t,n){$.getJSON(t,function(t){n(t)})},this.initDatePicker=function(t){$("#mTopPicker").val(t[0]),$("#mTopPicker").picker({toolbarTemplate:'<header class="bar bar-nav">                                      <button class="button button-link pull-right close-picker">确定</button>                                      <h1 class="title">请选择预定日期</h1>                                  </header>',cols:[{textAlign:"center",values:t}]})},this.initDateArr=function(){for(var t=[],n=0;n<7;n++)t.push(function(t){var n=["周日","周一","周二","周三","周四","周五","周六"],e=new Date;return e.setDate(e.getDate()+t),e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+n[e.getDay()]}(n));this.initDatePicker(t)},this.phoneClick=function(){$("#roomSelect").on("click",".conPhone",function(){$.modal({text:' <div class="username text-black text-xl m-t-s">张林</div>                            <div class="position text-m m-b-md">集团信息中心.实施工程师</div>                            <div class="flex-box text-m m-b">                                <span class="phone-number text-left">手机:                                     <span class="text-black">15522223333</span>                                </span>                                <a class="iconfont icon-dianhua text-center"></a>                                <a class="iconfont icon-duanxin text-right"></a>                            </div>                            <div class="flex-box text-m m-b">                                <span class="phone-number text-left">座机:                                     <span class="text-black">0755-22223333</span>                                </span>                                <a class="iconfont icon-dianhua text-center"></a>                                <a class="iconfont"></a>                            </div>                            ',verticalButtons:!0})})}}return new t});
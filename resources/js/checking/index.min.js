define(["css!iconfont","css!commoncss","css!checkingIndexCSS","common"],function(){function a(){var a=this;this.init=function(){a.handleBackClick(),a.jumpClick(),a.ajaxData()},this.initCalendar=function(n){a.showYear=(new Date).getFullYear(),a.showMonth=(new Date).getMonth()+1,$("#calendar").calendar({toolbar:!0,value:n,maxDate:(new Date).Format("yyyy-MM-dd"),minDate:"",firstShow:!1,dayNamesShort:["周六","周日","周一","周二","周三","周四","周五"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],onMonthAdd:function(){var n=$(".picker-calendar-month-current");a.showYear=n.attr("data-year"),a.showMonth=+n.attr("data-month")+1}}),$(".picker-calendar-months-wrapper").off("click")},this.jumpClick=function(){$("#checkingWaterIndex").click(function(){$.router.loadPage("./detail.html?year="+a.showYear+"&month="+a.showMonth)}),$("#checkingAbnormalIndex").click(function(){$.router.loadPage("./abnormal.html?year="+a.showYear+"&month="+a.showMonth)})},this.ajaxData=function(){ajaxData("GET",ajaxUrl.abnormalDate,function(n){a.initCalendar(n)})},this.handleBackClick=function(){$(".app-btn-back").off("click").on("click",function(){history.back()})}}return new a});